# instruction
## Focus on the stage of how to teach knowledge clearly
If the author has a little knowledge as only looks at the sky in a well, then he cannot explain the problem clearly in any way. Therefore, the first stage has spent a lot of time on experimental accumulation, and finally get a glimpse of the whole picture, and enters the second stage. In this stage, in addition to continuing to accumulate experiments, the focus is on how to teach knowledge. It is also the motivation for communicating with partners in an interactive community in the process of finishing the book rather than launching a community after finishing the book.

## Target audience
The title of 'Urban spatial data analysis method‚Äî‚Äîpython language implementation' reflects the principal direction of the research, such as urban planning, landscape architecture, architecture, ecological planning, and geographic information.  For readers, including college students and researchers, workgroup, are not impossible. The basic requirements of the python language require a minimum entry-level, and we try to solve this problem at this stage also, either as a separate warm-up or otherwise.

## How to learn
'How to learn?' is the biggest concern of readers, but also the author needs to solve it. We built the system's resource platform to meet the necessary data acquisition, code operation, interactive discussion to assist active learning. And the most critical is how to explain, which will continue to experiment in this stage, adjust to meet the requirements, and is also related to the feedback of partners in the community.

## Necessary knowledge supplement
In this book, because of the particularity of professional design/planning and discipline development, a lot of knowledge not configuration related course in university, so in the process of urban spatial data analysis, it involves a lot of knowledge points in combination with related literature into the experiment, to some extent, alleviates the burden of readers find relevant knowledge again. And from simple data, gradually to complex data analysis, we can understand the content of the study more clearly. With simple data sample üçÖ as identity,  return to the experimental data üê® as identity.(This way has been abandoned.)

## Learn by case study
A thousand words are not worth a simple case demonstration. Usually, see a specific function or method and the attribute's function, the best approach is to search case to view the data structure changes directly, often do not need to read the detailed explanation of the text, you can learn the function of this method from the changes of data, and then assist in understanding the text description, further find the explanation of unknown points.

## Take advantage of search engines
The world of the code is not marginal; it is impossible to remember all method functions. The code libraries are always updated and improved, and the knowledge you remember is not necessarily right. The key to learning code is still to get in the habit of coding, to train our thinking in coding, and ultimately to use this tool to solve real problems. Those countless libraries, functions, methods, properties, etc.  usually in the process of coding, make full use of the search engines to look up. One tends to find the answer platform [StackOverflow](https://stackoverflow.com/), the corresponding library website online document, etc. Frequently used method functions are unknowingly memorized. Or consciously strengthen the memory of often used method functions so that they can be remembered more quickly. You will not have to search for it the next time you use it.

## The installation of the library
The Anaconda integrated environment makes the installation of python libraries, and especially the dependencies between libraries, less of a concern for coders. Before starting the code in this book, you do not need to install all the required libraries in one environment at a time. Instead, follow the code as it is written, and you need to be reminded of what libraries are not installed, and it is best to install them then.  Because although Anaconda provides a pleasant library management environment, there are still conflicts between individual libraries, which can cause failures during the installation process, as well as problems with the initially installed library, thereby increasing the time cost. Simultaneously, for project development, it is better to build only the environment that supports the project, making it light and not redundant when deploying the network environment. However, for self-practice or less onerous project tasks, or early in the project, it should be fine as long as the environment supports it. 

## Computer configuration
This book involves deep learning. To increase the computing speed, GPU is used. You can check relevant information about GPU is used. The configuration used by the author is (for reference only):
```
OMEN by HP Laptop 15
Processor - Intel(R) Core(TM) i9-9880H CPU @2.30GHz 
Installed RAM - 32.0GB(31.9GB usable)
System type - 64-bit operating system, x64-based processor

Display adapter - NVIDA GeForce RTX 2080 with Max-Q Design
```

> It is recommended to have a minimum memory of 32GB, preferably 64GB or more. If memory is low, consider methods such as batch read and process data and then merge. Make fair use of memory management and data reading and writing methods(such as using HDF5 format).

Urban spatial data analysis usually involves massive data processing. For example, the 3D lidar data of the Chicago city area is about 1.41TB. Therefore, if you are using a laptop, it is better to configure the external hard disk with a large capacity. Although it will affect the reading and storage speed, it will avoid the laptop's own storage space's occupancy and affect the computing speed.

## Make fair use of 'print()'
'print()' is the most frequently used statements in python during code writing and debugging. To continually use this statement to check the value of data, data changes, data structure, content represented by variables, monitor program progress, display results, etc. 'print()' checks the data feedback in real-time to know whether the purpose of code writing has been achieved, and gives feedback.  Making fair use of 'print()' is the basis of writing code in python.

## Libray learning
The content of this book is the python language implementation of the urban spatial data analysis method, which is used in various experiments with a large number of related libraries, such as [SciPy](https://www.scipy.org/)Ôºå[NumPy](https://numpy.org/)Ôºå[pandas](https://pandas.pydata.org/)Ôºå[scikit-learn](https://scikit-learn.org/stable/)Ôºå[PyTorch](https://pytorch.org/)Ôºå[statsmodels](https://www.statsmodels.org/stable/index.html)Ôºå[SymPy](https://www.sympy.org/en/index.html)Ôºå[Pygame](https://www.pygame.org/news)Ôºå[matplotlib](https://matplotlib.org/)Ôºå[Plotly](https://plotly.com/)Ôºå[seaborn](https://seaborn.pydata.org/)Ôºå[bokeh](https://docs.bokeh.org/en/latest/index.html)Ôºå[GeoPandas](https://geopandas.org/)Ôºå[GDAL](https://gdal.org/)Ôºå[rasterstats](https://pythonhosted.org/rasterstats/)Ôºå[Shapely](https://shapely.readthedocs.io/en/latest/manual.html)Ôºå[pathlib](https://docs.python.org/3/library/pathlib.html)Ôºå[PySAL](https://pysal.org/)Ôºå[NetworkX](https://networkx.github.io/)Ôºå[rasterio](https://rasterio.readthedocs.io/en/latest/)Ôºå[EarthPy](https://earthpy.readthedocs.io/en/latest/)Ôºå[PDAL](https://pdal.io/)Ôºå[scikit-imge](https://scikit-image.org/)Ôºå[VTK](https://vtk.org/)Ôºå[flask](https://flask.palletsprojects.com/en/1.1.x/)Ôºå[sqlite3](https://docs.python.org/3/library/sqlite3.html)Ôºå[cv2](https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_gui/py_image_display/py_image_display.html)Ôºå[re](https://docs.python.org/3/library/re.html)Ôºå[itertools](https://docs.python.org/3/library/itertools.html)Ôºå[urllib](https://docs.python.org/3/library/urllib.html)Ôºå[Pillow](https://python-pillow.org/)Ôºå[tkinter](https://docs.python.org/3/library/tkinter.html). The above libraries are the main ones used in this book. Many of them are large, and each library will spend a certain amount of time to study separately. If many libraries have not contacted before, one way is to quickly learn the official tutorial provided by each library in advance when reading relevant parts and using the library, instead of manual, to quickly master the main structure of the library and then continue to read the experiment of this book. Alternatively, to not break the reading continuity, you can look up the contents of the classes or functions that use the library. The range of each library is generally huge; there is no need to learn one by one, then according to the needs, purposeful reference can be used. However, some libraries require a systematic look at their tutorials, such as Scikit-learn„ÄÅPyTorch and other extremely heavy libraries.

## Avoid building wheels repeatedly
'Avoid building wheels repeatedly' is one of the programmer's motto. Of course, everyone holds a different point of view, but what is inevitable that there is no need to start to build all of the content of the project; it is like to write all the python libraries, even python core content, such as Scikit-learn, PyTorch integration algorithm,  a large number of a model we just used directly, will not repeat to write the code. But in the course of this book, I consciously rewrote the code for the most fundamental part according to the calculation formula, to understand what was going on, which is not necessary for real projects.

## From math-formulas to code, graphics: learn math in python
Just as the best way to write music is to write in the score, the best way to show mathematical characteristics is through mathematical formulas. Many people, especially those majoring in planning, architecture, and landscape, are against logical thinking due to their attributes of image thinking and years of schemata thinking training in college. Besides good design planning, a particular aesthetic awareness, and space design ability,  good logical thinking will enable designers in the space form design ability to improve and feel the spatial ability change. Not to mention, the major of architecture itself is an engineering system, which is a rigorous matter related to people's lives and safety.„ÄÇ

Even if we start to learn formulas in elementary school, we may not be comfortable with them when we begin to relearn formulas. Still, when you gradually replace the methods to explain with formulas, you will slowly grow to like this.

Moreover, many times, the formula, even the text content, is confusing. How can you understand what the author is saying, especially if most of the formula is included, and the examples take the form of text. That is because we can only see it, but we can not touch it, and it is hard to adjust the parameters and try out the author's case. But in the world of python and other languages, the data, the code is real stuff; you can use 'print()' to see each step of the data changes, especially the part difficult to understand, compare the data changes before and after, and what data is used, everything will be solved, this is why all the exposition in this book is based on code, and if you can not understand the formula, that is fine; if you can not understand the text, that is also fine, just run the code line by line, and it seems clear. And try to express the data graphically to increase understanding and make it easier for problems to surface. All chapters have a .ipynb Jupyter file, can interact with the code operation to achieve the purpose of learning by learning by experiment.

## References and book recommendations
Urban spatial data analysis methods require multidisciplinary integration, specialized knowledge of planning, architecture, and landscape, knowledge of programming language such as python, mathematics(statistics, calculus, linear algebra, databases, etc.), geographic information system, ecology, etc. and more complex subdivisions below. We only use the knowledge used in solving problems. When reading, if the knowledge point is not very clear, we can look for relevant literature to get supplementary information. In each part, references and books are also provided, and if necessary, we can check them.

## Jump in knowledge - no derivation of equations
Many formulas will not lead to the derivation process, mainly the professional purpose, that is crazy if a major does all the professional things. It is unrealistic, not practical, not feasible; only the continuous integration of disciplines can make the domain rapidly grow. When it is necessary to find a solution to our specialty's research problem, we need to derive it by ourselves and then do it carefully. Research results represented by existing formulas, such as probability density function formulas, least-square methods, coefficient of determination, etc., are not recommended to be derived gradually from the beginning.„ÄÇ

## For the convoluted code
Reading code is not about reading the code itself, but about the information it conveys. Some of the code is simple, such as adding, subtracting, multiplying, and dividing arrays. Still, suppose some code 'does not know what it is,' but solves the problems. In that case, there may be some very creative processing techniques, such as gradient descent, principal component analysis,  general antagonistic networks, and various algorithms. In many cases, the more ingenious and unconventional the solution, the less easy it is to read, but it seems to become apparent with a 'flash of inspiration.'  Therefore, for these convoluted codes and the necessity of continually checking data changes, even combined with chart analysis and internet search for the best and most understandable explanatory text, we need to be patient and calm down to find the method found by the author.  Even a lot of time needs to rest, relax our minds, and change the time to explore, but not easy to fall into it, confusing answers.

## The study of 'thousand lines +' complex code
It is unlikely that hundreds of code lines can be understood at once, especially if the code is in the form of a class in which various parameters, variables, and even functions themselves repeatedly jump under multiple functions, branching, merging, and continuously generating new variables. Figuring out the initialization conditions and the path to initialize parameters is the first thing to do, depending on the code's complexity. Once you know the flow of code running, the order in which statements are executed (both in sequence and in parallel), you can write them down for further analysis and avoid forgetting. Move onto the second phase of code analysis, and now that you have a clear picture of the flow, start running the code line by line, printing the data, and understanding what each line of code is trying to solve. Of course, this process can be carried out simultaneously as the code running process. Combining the running line while analyzing the code is how to solve the problem; When we examine the code line by line, we are bound to encounter those convoluted codes. Suppose it is challenging to understand for a while and does not affect the following lines of code. In that case, you can bypass it first and directly obtain the data for the following code lines, and finally focus on the analysis of these convoluted codes. If you can not get around it, you will have to work on it first.


At this point, because the book is being written, we can adapt flexibly, because there are environmental genes for learning together, rather than reading alone at night. This experience of growing together will resonate with the reader and author, and we believe that the interaction of the community will stimulate the interest and passion for learning.